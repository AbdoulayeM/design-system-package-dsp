# Design System Package (DSP) Documentation
> *DSP is an open-format folder-structure created to help teams share Design System information across tools*

This document describes the Design System Package (DSP) structure, including details of how each internal file or folder should be used.

## Package Format

A Design System Package (DSP) is a folder containing subfolders with assets and JSON files that represent Design System information relevant to developers:
* Documentation Pages (e.g. Introduction, Principles)
* Agnostic Design Tokens as color, size, custom and aliases 
* Collections of tokens, such fonts (Typography)
* Component Documentation (Markdown sections, code snippets, etc)

[Download a DSP folder example](https://www.dropbox.com/s/rg49izd2i4yac2g/sample-dsp.zip?dl=0)

These are the contents of each DSP folder:

* [/assets](#assets-folder)
* [/data](#data-folder)
* [/dist](#dist-folder)
* [/ext](#ext-folder)
* [dsp.json](#dsp-file)

#### Assets folder
This folder contains all the static assets included with the Design System Package, such as images or SVG files.

#### Data folder
This folder contains all of the data that comprises the DSP format. The folder has no required files. File examples are components.json, docs.json, fonts.json and tokens.json.

#### Dist folder
This folder contains platform-specific code generated by the extension build system, [Style Dictionary](https://amzn.github.io/style-dictionary/#/) for MVP, separated in folders. Examples of folders created by the build system are /android, /scss and /styledictionary. Dist also contains non-platform-specific code such as the Style Dictionary input (config.json and /properties).

#### Ext folder
This folder could hold files written by third party tools. Its subfolders must follow the reverse domain name convention of "com_partnername" (e.g. for Zeplin, the folder should be named "com_zeplin")

#### dsp.json
This is the entry point for the Design System Package (DSP). It includes package info, settings, and imports.

## Understanding the dsp.json file

The dsp.json file has specific elements:

1. **File header** (required)

```javascript

"dsp_spec_version": 1.0, // DSP Spec Version, present in all DSP JSON files
"last_updated": "UTCDateTime", // When this file was last updated
"last_updated_by": "Author Name", // Who last updated this file
```

2. **Import** (required, but it can be empty)

```javascript
// DSP JSON files can be imported into other packages, by being added to the import array. If there are overrides, the first instance in the array wins.
"import": [
	{"src": "components.json"},
	{"src": "docs.json"},
	{"src": "tokens.json"},
	{"src": "fonts.json"}
],
```

3. **Settings** (required)

```javascript
// DSP settings object
"settings": {
    "name": "My Design System",
    "package_version": "0.5.0",
    "build_status_label": "dev", // Examples: dev, staged, released, deprecated
    "snippet_trigger_prefix": "xd-", // Prefix that will be prepended to code snippets 
    "build_tool": "styledictionary",
    "build_tool_version": "1.0.0",
    "build_params": "", // extra command line parameters that can be passed to the build tool during token compilation
    "languages": {
        "sass": {
            "version": 1.0,
            "color_format": "hsla"
        },
        "ios_swift": {}
    }
}
```

4. **Extension** (optional)

```javascript
// If partners need to add specific information that is not core to DSP, the new information has to be placed inside an ext object following the inverse domain naming convention
	"ext-com_partnername": {
		"foo": "..."
	},
```

5. **Entities** (optional)

The entities array contains objects defining the entities that comprise the design system. This can include entities such as tokens, collections, documents, and components. While entities can be defined in dsp.json, it is common to split them into separate files and include them via the import property.

> *Note: See the sample in [Imported JSON files](#imported-json-files) for additional information and examples.*

* **class**
Currently recognized values are:
    * token (most basic entity to represent key/value pairs)
    * collection (entities that are collections of tokens)
    * doc (entities that describe documentation in markdown)
    * component (entities that describe components including documentation in markdown, code snippets and related entities)

* **type**
Divides each class by functional category. Currently recognized values for each class are:
    * token: color, size, custom, alias 
    * collection: font
    * doc: page
    * component: page

* **id**
* **name** *// name is optional, will default to id if omitted*
* **value**
* **last updated**
* **last update author**
* **description**

> *Note 1: Collections have a **tokens** element listing all tokens that make that collection.*

> *Note 2: Component pages can have **related_entity_ids** for "used by" tokens, as well as **snippets**.*

### Sample dsp.json file

```javascript
{
    "dsp_spec_version": 1.0, // DSP Spec Version, present in all DSP JSON files
    "last_updated": "UTCDateTime", // When this file was last updated
    "last_updated_by": "Author Name", // Who last updated this file

    // If partners need to add specific information that is not core to DSP, the new information has to be placed inside an ext object following the inverse domain naming convention
    "ext-com_partnername": {
        "foo": "..."
    },

    // DSP JSON files can be imported into other packages, by being added to the import array. If there are overrides, the first instance in the array wins.
    "import": [
        {"src": "data/components.json"},
        {"src": "data/docs.json"},
        {"src": "data/tokens.json"},
        {"src": "data/fonts.json"}
    ],

    // DSP settings object
    "settings": {
        "name": "My Design System",
        "package_version": "0.5.0",
        "build_status_label": "dev", // Examples: dev, staged, released, deprecated
        "snippet_trigger_prefix": "xd-", // Prefix that will be prepended to code snippets 
        "build_tool": "styledictionary",
        "build_tool_version": "1.0.0",
        "build_params": "", // extra command line parameters that can be passed to the build tool during token compilation
        "languages": {
            "sass": {
                "version": 1.0,
                "color_format": "hsla"
            },
            "ios_swift": {}
        }
    }
}
```

## Imported JSON files

Additional JSON files can be imported to define additional tokens, components, docs and collections. They can be broken down into separate JSON files, or can be all in one JSON file. For organization purposes, we recommend saving them in the /data folder.

Each JSON file must include the standard file header, and may contain any of the properties defined for the dsp.json file. If a settings property is defined in an imported file, it will be ignored in favor of the dsp.json value.

## Using NPM to distribute your Design System Package

If you decide to use NPM to distribute your package, please add a package.json file to the root folder by following [the instructions to publish to NPM](https://docs.npmjs.com/creating-and-publishing-unscoped-public-packages).

## Questions or feedback
For questions and feedback, please email Demian Borba borba@adobe.com 
